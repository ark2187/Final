<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Vehicle and Non-Vehicle Border Crossing Trends</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 54px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h2 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h3 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h4 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h5 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h6 {
  padding-top: 59px;
  margin-top: -59px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">About</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="report.html">Report</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="crossings_monthly.html">Crossings Monthly</a>
    </li>
    <li>
      <a href="crossings_annually.html">Crossings Annually</a>
    </li>
    <li>
      <a href="crossings_people.html">Crossings of People</a>
    </li>
    <li>
      <a href="crossings_vehicles.html">Crossings of Vehicles</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://acn2138.shinyapps.io/dashboard/?_ga=2.142141554.1361502426.1606339972-1725755859.1605631383">Shiny App</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Vehicle and Non-Vehicle Border Crossing Trends</h1>

</div>


<div id="monthly-trends" class="section level3">
<h3>Monthly Trends</h3>
<pre class="r"><code>vehicles_monthly &lt;-
  border_crossing_df %&gt;%
  filter(vehicle == &quot;Vehicles&quot;) %&gt;%
  group_by(border, measure, month) %&gt;%
  summarize(num = sum(value))

vehicles_monthly %&gt;%
  mutate(measure = as.factor(measure), border = as.factor(border)) %&gt;%
  ungroup() %&gt;%
  ggplot(aes(x = month, y = log(num), group = measure , color = measure)) +
  geom_point(size = 2, alpha = 0.5) +
  geom_line(size = 1.5, alpha = 0.5) +
  facet_grid(~border) +
  theme(legend.position = &quot;bottom&quot;) + 
  scale_x_continuous(limits = c(1,12), breaks = c(1:12)) +
  scale_y_continuous(trans = scales::log_trans(base = exp(1))) +
  labs(title = &quot;Monthly Trends of Vehicle Border Crossings from 2000 to 2018 by Vehicle Types&quot;,
       x = &quot;Month&quot;, 
       y = &quot;Ln Number of Crossings&quot;, 
       color = &quot;Vehicle Type&quot;)</code></pre>
<p><img src="crossings_vehicles_files/figure-html/unnamed-chunk-3-1.png" width="90%" /></p>
<p>There are more buses and personal vehicle crossings on average at US-Mexico border, but there are more train crossings at the US-Canada border. Looking further at the monthly trends, there is some seasonality in US-Canada border crossings for buses and personal vehicles during the summer months.</p>
<p>The US-Mexico border has about the same number of crossings throughout the months for both empty and full rail containers, whereas the US-Canada border has consistently greater full rail container crossings.</p>
</div>
<div id="yearly-trends" class="section level3">
<h3>Yearly trends</h3>
<pre class="r"><code>vehicles_yearly &lt;-
  border_crossing_df %&gt;%
  group_by(vehicle, year) %&gt;%
  summarize(num = sum(value))

vehicles_yearly %&gt;%
  ggplot(aes(x = year, y = log(num), color = as.factor(vehicle))) +
  geom_point(size = 2, alpha = 0.5) +
  geom_line(size = 1.5, alpha = 0.5) +
  theme(legend.position = &quot;bottom&quot;) + 
  scale_x_continuous(limits = c(2000,2018), breaks = c(2000:2018)) +
  scale_y_continuous(trans = scales::log_trans(base = exp(1))) +
  labs(title = &quot;Yearly Trend of Vehicle and Non-Vehicle Border Crossings from 2000 to 2018&quot;,
       x = &quot;Year&quot;, 
       y = &quot;Ln Number of Crossings&quot;, 
       color = &quot;Crossing Type&quot;,
       caption = &quot;Number of crossings was log-transformed. Non-vehicle types include pedestrian and vehicle passenger counts.&quot;)+
  theme(axis.text.x = element_text(angle = 45, hjust = 1))</code></pre>
<p><img src="crossings_vehicles_files/figure-html/unnamed-chunk-4-1.png" width="90%" /></p>
<p>The border-crossing trends look similar for both vehicle and non-vehicles, which include pedestrian crossings and passengers. We see a substantial dip in the data around 2008-2012 when President Obama serves his first term. This was a time known for a rise in deportations and lack of immigration reform due to Republican opposition. In his second term, Obama was able to accomplish more broader legislation including the Deferred Action for Childhood Arrivals (DACA) in 2012.</p>
<pre class="r"><code>border_crossing_df %&gt;%
  group_by(vehicle, year, border) %&gt;%
  summarize(num = sum(value)) %&gt;%
  ggplot(aes(x = year, y = log(num), 
             color = as.factor(vehicle), as.factor(vehicle))) +
  geom_point(size = 2, alpha = 0.5) +
  geom_line(size = 1.5, alpha = 0.5) +
  facet_grid(~border) +
  theme(legend.position = &quot;bottom&quot;) + 
  scale_x_continuous(limits = c(2000,2018), breaks = c(2000:2018)) +
  scale_y_continuous(trans = scales::log_trans(base = exp(1))) +
  labs(title = &quot;Yearly Trend of Vehicle and Non-Vehicle Border Crossings from 2000 to 2018&quot;,
       x = &quot;Year&quot;, 
       y = &quot;Ln Number of Crossings&quot;, 
       color = &quot;Crossing Type&quot;,
       caption = &quot;Number of crossings was log-transformed. Non-vehicle types include pedestrian and vehicle passenger counts.&quot;)+
  theme(axis.text.x = element_text(angle = 45, hjust = 1))</code></pre>
<p><img src="crossings_vehicles_files/figure-html/unnamed-chunk-5-1.png" width="90%" /></p>
<p>The US-Mexico border has a higher volume of crossings than the US-Canada border. There is also a larger gap between the vehicle and non-vehicle lines for the US-Mexico border, likely showing that there are more pedestrians and people per vehicle that for the US-Canada border.</p>
<p>The lowest number of crossings at the US-Canada border is in 2009 for vehicles and in 2016 for non-vehicles, whereas it is in 2011 at the US-Mexico border for both types. The trends over the years are different: there is a steady decrease over the years at the US-Mexico border before rising again in 2011, whereas the US-Canada border looks to have three drops in the number of crossings.</p>
</div>
<div id="texas" class="section level1">
<h1>Texas</h1>
<pre class="r"><code>tx_ca_monthly &lt;-
  border_crossing_df %&gt;%
  filter(state %in% c(&quot;California&quot;, &quot;Texas&quot;)) %&gt;%
  mutate(
    measure_short= case_when(
      measure == &quot;Personal Vehicle Passengers&quot; ~ &quot;Personal Vehicles&quot;,
      measure == &quot;Personal Vehicles&quot; ~ &quot;Personal Vehicles&quot;,
      measure == &quot;Rail Containers Empty&quot; ~ &quot;Rail Containers&quot;,
      measure == &quot;Rail Containers Full&quot; ~ &quot;Rail Containers&quot;,
      measure == &quot;Bus Passengers&quot; ~ &quot;Buses&quot;,
      measure == &quot;Buses&quot; ~ &quot;Buses&quot;,
      measure == &quot;Truck Containers Empty&quot; ~ &quot;Trucks&quot;,
      measure == &quot;Truck Containers Full&quot; ~ &quot;Trucks&quot;,
      measure == &quot;Trucks&quot; ~ &quot;Trucks&quot;,
      measure == &quot;Train Passengers&quot; ~ &quot;Trains&quot;,
      measure == &quot;Trains&quot; ~ &quot;Trains&quot;,
      measure == &quot;Pedestrians&quot; ~ &quot;Pedestrians&quot;,
    ),
    measure = as.factor(measure_short),
    state = as.factor(state)) %&gt;%
  group_by(state, measure_short, year, month) %&gt;%
  summarize(num = sum(value))

tx_ca_monthly %&gt;%
  ungroup() %&gt;%
  ggplot(aes(x = year, y = log(num), color = measure_short)) +
  geom_point(alpha = 0.5, position = position_jitter(w = 0.2, h = 0)) +
  facet_grid(~state) +
  theme(legend.position = &quot;bottom&quot;) +
  scale_y_continuous(trans = scales::log_trans(base = exp(1))) +
  labs(title = &quot;Yearly Trends of Vehicle Border Crossings from 2000 to 2018 by Vehicle Types&quot;,
       x = &quot;Year&quot;, 
       y = &quot;Ln Number of Crossings&quot;, 
       color = &quot;Vehicle Type&quot;)</code></pre>
<p><img src="crossings_vehicles_files/figure-html/unnamed-chunk-6-1.png" width="90%" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
